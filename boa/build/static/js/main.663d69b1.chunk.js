(this.webpackJsonpboa=this.webpackJsonpboa||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),l=a.n(o),c=(a(86),a(6)),i=a(7),u=a(8),s=a(9),m=a(25),h=a(16),d=a(117),p=a(118),v=a(116),E=r.a.createContext({user:void 0,login:function(){},logout:function(){}}),f=1,b=2,g=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.context,t=e.user,a=e.logout;return r.a.createElement(d.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(p.a.Link,{as:m.b,to:"/"},r.a.createElement("img",{src:"/icon.png",className:"nav-logo",alt:"Logo",style:{width:65}})),r.a.createElement(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(d.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(p.a,{className:"mr-auto"},r.a.createElement(p.a.Link,{as:m.b,to:"/album/list"},"Albuns"),r.a.createElement(p.a.Link,{as:m.b,to:"/artist/list"},"Artistas"),t&&t.role===f&&r.a.createElement(p.a.Link,{as:m.b,to:"/genre/list"},"G\xe9neros"),t&&t.role===f&&r.a.createElement(p.a.Link,{as:m.b,to:"/user/list"},"Utilizadores"),r.a.createElement(p.a.Link,{as:m.b,to:"/about"},"About")),r.a.createElement(p.a,null,t?r.a.createElement(v.a,{title:t.username,alignRight:!0},r.a.createElement(v.a.Item,{onClick:function(){return a()}},"Logout")):r.a.createElement(p.a.Link,{as:m.b,to:"/login"},"Login"))))}}]),a}(r.a.Component);g.contextType=E;var y=a(73),C=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.component,a=e.roles,n=Object(y.a)(e,["component","roles"]),o=this.context.user;return r.a.createElement(h.b,Object.assign({},n,{render:function(e){return o&&(void 0===a||a.some((function(e){return e===o.role})))?r.a.createElement(t,e):r.a.createElement(h.a,{to:"/"})}}))}}]),a}(r.a.Component);C.contextType=E;var O=a(13),j=a(65),S=function(e,t,a){var n=sessionStorage.getItem("user");return new Promise((function(r,o){var l="http://localhost:5000"+t;a&&a.query&&(l+=w(a.query)),fetch(l,Object(O.a)({method:e,headers:Object(O.a)({},a&&a.jsonData&&{"Content-Type":"application/json"},{},n&&{Authorization:JSON.parse(n).token})},a&&Object(O.a)({},a.jsonData&&{body:JSON.stringify(a.jsonData)},{},a.formData&&{body:a.formData}))).then((function(e){return k(e)})).then((function(e){return r(e)})).catch((function(a){console.error("error ".concat(e," ").concat(t,": ").concat(a.message)),o(a)}))}))},k=function(e){return new Promise((function(t,a){e.ok?t(e.json()):a(e.text())}))},w=function(e){return Object.values(e).some((function(e){return e}))?"?"+Object.entries(e).filter((function(t){var a=Object(j.a)(t,2),n=a[0];a[1];return e[n]})).map((function(e){var t=Object(j.a)(e,2),a=t[0],n=t[1];return"".concat(a,"=").concat(n)})).join("&"):""},L={getAll:function(e){return S("GET","/album",{query:{search:e}})},getOne:function(e){return S("GET","/album/".concat(e))},create:function(e){return S("POST","/album",{jsonData:e})},update:function(e,t){return S("PUT","/album/data/".concat(e),{jsonData:t})},setCover:function(e,t){return S("PUT","/album/cover/".concat(e),{formData:t})},remove:function(e){return S("DELETE","/album/".concat(e))}},x={getAll:function(e){return S("GET","/artist",{query:{search:e}})},getOne:function(e){return S("GET","/artist/".concat(e))},create:function(e){return S("POST","/artist",{jsonData:e})},update:function(e,t){return S("PUT","/artist/data/".concat(e),{jsonData:t})},setPhoto:function(e,t){return S("PUT","/artist/photo/".concat(e),{formData:t})},remove:function(e){return S("DELETE","/artist/".concat(e))}},T={getAll:function(e){return S("GET","/genre",{query:{search:e}})},getOne:function(e){return S("GET","/genre/".concat(e))},create:function(e){return S("POST","/genre",{jsonData:e})},update:function(e,t){return S("PUT","/genre/".concat(e),{jsonData:t})},remove:function(e){return S("DELETE","/genre/".concat(e))}},D={register:function(e){return S("POST","/user/register",{jsonData:e})},login:function(e){return S("POST","/user/login",{jsonData:e})},getAll:function(e){return S("GET","/user",{query:{search:e}})},getOne:function(e){return S("GET","/user/".concat(e))},update:function(e,t){return S("PUT","/user/".concat(e),{jsonData:t})},remove:function(e){return S("DELETE","/user/".concat(e))}},A=L,R=x,N=T,G=D,U=a(119),B=a(115),P=a(72),_=(a(69),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"admin",password:"123qweASD"},n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),G.login(this.state).then((function(e){t.context.login(Object(O.a)({username:t.state.username},e)),t.props.history.push("/")})).catch((function(e){}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password;return r.a.createElement("div",{id:"auth-board"},r.a.createElement(U.a,{style:{width:"18rem"}},r.a.createElement(B.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,"Login"),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Username"),r.a.createElement(B.a.Control,{value:a,onChange:function(t){return e.setState({username:t.target.value})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Password"),r.a.createElement(B.a.Control,{type:"password",value:n,onChange:function(t){return e.setState({password:t.target.value})}})),r.a.createElement(P.a,{variant:"primary",type:"submit",block:!0},"Login"),r.a.createElement(P.a,{variant:"outline-secondary",size:"sm",onClick:function(){return e.props.history.push("/register")},block:!0},"Register")))))}}]),a}(r.a.Component));_.contextType=E;var I=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={username:"",password:"",email:"",name:"",role:2},n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),G.register(this.state).then((function(){t.props.history.push("/login")}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,o=t.email,l=t.name,c=t.role;return r.a.createElement("div",{id:"auth-board"},r.a.createElement(U.a,{style:{width:"18rem"}},r.a.createElement(B.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,"Register"),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Username"),r.a.createElement(B.a.Control,{required:!0,true:!0,value:a,onChange:function(t){return e.setState({username:t.target.value})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Password"),r.a.createElement(B.a.Control,{required:!0,true:!0,type:"password",value:n,onChange:function(t){return e.setState({password:t.target.value})}}),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Email"),r.a.createElement(B.a.Control,{required:!0,true:!0,type:"email",value:o,onChange:function(t){return e.setState({email:t.target.value})}}))),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Nome"),r.a.createElement(B.a.Control,{required:!0,true:!0,value:l,onChange:function(t){return e.setState({name:t.target.value})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Role"),r.a.createElement(B.a.Control,{as:"select",value:c,onChange:function(t){return e.setState({role:parseInt(t.target.value)})}},r.a.createElement("option",{value:2},"Contributor"),r.a.createElement("option",{value:1},"Admin"))),r.a.createElement(P.a,{variant:"primary",type:"submit",block:!0},"Register"),r.a.createElement(P.a,{variant:"outline-secondary",size:"sm",onClick:function(){return e.props.history.push("/login")},block:!0},"Login")))))}}]),a}(r.a.Component),F=a(75),H=a.n(F),z=(a(93),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("img",{src:H.a,className:"App-logo",alt:"logo"}),r.a.createElement("br",null),r.a.createElement("p",{className:"parag"},"Bem-vindos \xe0 Biblioteca de \xc1lbuns BOA!!")))}}]),a}(r.a.Component)),q=a(76),M=a.n(q),J=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(U.a,{style:{width:"10rem"}},r.a.createElement(U.a.Img,{variant:"top",src:M.a}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,this.props.name),r.a.createElement(U.a.Subtitle,{className:"mb 2 text muted"},this.props.info.work),r.a.createElement(U.a.Text,null,this.props.info.description)))}}]),a}(r.a.Component),W=(a(94),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{id:"about-board"},r.a.createElement("br",null),r.a.createElement(J,{name:"Nuno",info:{description:"boring bald dude",work:"Developer Wannabe"}}),r.a.createElement(J,{name:"Rafael",info:{description:"just a dude",work:"Developer Wannabe"}}))}}]),a}(r.a.Component)),V=a(35),Y=a(109),$=a(110),K=a(11),Q=a(10),X=a(114),Z=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toEdit=!1,n.toEdit=void 0!==e.album,n.state=n.getFormState(),n}return Object(i.a)(a,[{key:"getFormState",value:function(){return this.toEdit?{form:this.props.album,cover:null,genres:[],artists:[]}:{form:{album:"",genre:0,year:"",artist:0},cover:null,genres:[],artists:[]}}},{key:"componentDidMount",value:function(){var e=this;T.getAll("").then((function(t){return e.setState({genres:t})})).catch((function(t){return e.setState({error:t})})),x.getAll("").then((function(t){return e.setState({artists:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a,n={album:(a=this.state.form).album,genre:a.genre,year:a.year,artist:a.artist};if(this.toEdit){var r=this.props.album,o=r._id,l=r.cover;L.update(o,n).then((function(){return t.handleCoverSubmit(Object(O.a)({},n,{_id:o,cover:l}))}))}else L.create(n).then((function(e){return t.handleCoverSubmit(Object(O.a)({},n,{_id:e._id}))}))}},{key:"handleCoverSubmit",value:function(e){var t=this;this.state.cover?L.setCover(e._id,this.state.cover).then((function(a){t.props.submited(Object(O.a)({},e,{cover:a.url}))})):this.props.submited(e)}},{key:"handleCancel",value:function(){this.setState(this.getFormState()),this.props.handleClose()}},{key:"handleSelectCover",value:function(e){var t=new FormData;t.append("cover",e.target.files[0]),this.setState({cover:t})}},{key:"render",value:function(){var e=this,t=this.props.show,a=this.state.form,n=a.album,o=a.genre,l=a.year,c=a.artist;return r.a.createElement(X.a,{show:t,onHide:this.handleCancel,size:"lg"},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Title,null,this.toEdit?"Edit album":"Create album")),r.a.createElement(B.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(X.a.Body,null,r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Album"),r.a.createElement(B.a.Control,{value:n,onChange:function(t){return e.setState({form:Object(O.a)({},e.state.form,{album:t.target.value})})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Control,{as:"select",value:o,onChange:function(t){return e.setState({form:Object(O.a)({},e.state.form,{genre:t.target.value})})}},r.a.createElement("option",{value:"0"},"Escolhe um g\xe9nero"),this.state.genres.map((function(e){return r.a.createElement("option",{key:e._id,value:e.genre},e.genre)})))),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Control,{as:"select",value:c,onChange:function(t){return e.setState({form:Object(O.a)({},e.state.form,{artist:t.target.value})})}},r.a.createElement("option",{value:"0"},"Escolhe um artista"),this.state.artists.map((function(e){return r.a.createElement("option",{key:e._id,value:e.artistname},e.artistname)})))),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Year"),r.a.createElement(B.a.Control,{value:l,pattern:"[0-2][0-9][0-9][0-9]",onChange:function(t){return e.setState({form:Object(O.a)({},e.state.form,{year:t.target.value})})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Cover"),r.a.createElement(B.a.Control,{type:"file",onChange:function(t){return e.handleSelectCover(t)}}))),r.a.createElement(X.a.Footer,null,r.a.createElement(P.a,{variant:"secondary",onClick:function(){return e.handleCancel()}},r.a.createElement(K.a,{icon:Q.j})),r.a.createElement(P.a,{variant:"primary",type:"submit"},r.a.createElement(K.a,{icon:Q.f})))))}}]),a}(r.a.Component),ee=a(108),te=a(74),ae=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={text:""},n}return Object(i.a)(a,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.search(this.state.text)}},{key:"render",value:function(){var e=this;return r.a.createElement(B.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(ee.a,null,r.a.createElement(te.a,{style:{padding:0}},r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Control,{value:this.state.text,onChange:function(t){return e.setState({text:t.target.value})}}))),r.a.createElement(te.a,{xs:2,style:{padding:0}},r.a.createElement(P.a,{variant:"primary",type:"submit"},r.a.createElement(K.a,{icon:Q.g})))))}}]),a}(r.a.Component),ne=(a(98),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={albuns:[],error:void 0,toCreate:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.getList()}},{key:"getList",value:function(e){var t=this;"/album/list"===this.props.location.pathname&&A.getAll(e).then((function(e){return t.setState({albuns:e})})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.albuns,n=t.error,o=t.toCreate;return r.a.createElement(Y.a,null,void 0!==n&&r.a.createElement($.a,{variant:"danger"},n),r.a.createElement("div",{className:"buttons-container"},r.a.createElement(P.a,{variant:"outline-secondary",style:{alignSelf:"flex-start"},onClick:function(){return e.setState({toCreate:!0})}},r.a.createElement(K.a,{icon:Q.e}),"\xa0New Album"),r.a.createElement(ae,{search:function(t){return e.getList(t)}})),r.a.createElement(Z,{show:o,handleClose:function(){return e.setState({toCreate:!1})},submited:function(t){return e.setState({albuns:[].concat(Object(V.a)(a),[t]),toCreate:!1})}}),r.a.createElement("div",{id:"albumList"},a.map((function(t,a){return r.a.createElement(U.a,{key:"album".concat(a)},r.a.createElement(U.a.Img,{variant:"top",src:t.cover,onClick:function(){return e.props.history.push("/album/details/".concat(t._id))}}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,"Album : ",t.album),r.a.createElement(U.a.Subtitle,null,"Artista : ",t.artist)))}))))}}]),a}(r.a.Component));ne.contextType=E;var re=a(111),oe=a(112),le=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={sure:!1},n}return Object(i.a)(a,[{key:"handleRemove",value:function(){var e=this;L.remove(this.props.albumId).then((function(){e.props.removed()}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.handleClose,o=this.state.sure;return r.a.createElement(X.a,{show:a,onHide:n,size:"lg"},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,"Remove Album")),r.a.createElement(X.a.Body,null,"If you proceed this action this element will be permanently deleted from the system!",r.a.createElement("br",null),"Are you sure?",r.a.createElement(K.a,{style:{marginLeft:10},onClick:function(){return e.setState({sure:!o})},icon:o?Q.b:Q.h})),r.a.createElement(X.a.Footer,null,r.a.createElement(P.a,{variant:"danger",disabled:!o,onClick:function(){return e.handleRemove()}},"REMOVE")))}}]),a}(r.a.Component),ce=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={album:void 0,error:void 0,toRemove:!1,toUpdate:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;L.getOne(this.props.match.params.id).then((function(t){return e.setState({album:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.album,n=t.error,o=t.toRemove,l=t.toUpdate,c=this.context.user;return r.a.createElement(Y.a,null,r.a.createElement(P.a,{variant:"outline-secondary",style:{margin:"10px 0"},onClick:function(){return e.props.history.goBack()}},r.a.createElement(K.a,{icon:Q.a}),"\xa0Back to list"),void 0!==n&&r.a.createElement($.a,{variant:"danger"},n),void 0!==a?r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(ee.a,null,r.a.createElement(te.a,{xs:6,md:4,lg:3},a.cover&&r.a.createElement("img",{src:a.cover,alt:a.cover,className:"coverSize",onClick:function(){return e.props.history.push("/album/list")}})),r.a.createElement(te.a,{xs:6,md:8,lg:9},r.a.createElement("h1",{className:"textPosition"},"Album : ",a.album),r.a.createElement("h5",{className:"textPosition"},"Artista : ",a.artist),r.a.createElement("h5",{className:"textPosition"},"Ano : ",a.year),r.a.createElement("h5",{className:"textPosition"},"G\xe9nero : ",a.genre),r.a.createElement("br",null),c&&r.a.createElement("p",null,r.a.createElement(P.a,{className:"textPosition",variant:"dark",onClick:function(){return e.setState({toUpdate:!0})}},r.a.createElement(K.a,{icon:Q.c})),"\xa0",c.role===f&&r.a.createElement(P.a,{variant:"danger",onClick:function(){return e.setState({toRemove:!0})}},r.a.createElement(K.a,{icon:Q.i})))))),r.a.createElement(le,{albumId:a._id,show:o,handleClose:function(){return e.setState({toRemove:!1})},removed:function(){return e.props.history.goBack()}}),r.a.createElement(Z,{album:a,show:l,handleClose:function(){return e.setState({toUpdate:!1})},submited:function(t){return e.setState({album:t,toUpdate:!1})}})):r.a.createElement(oe.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),a}(r.a.Component);ce.contextType=E;var ie=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toEdit=!1,n.toEdit=void 0!==e.artist,n.state=n.getFormState(),n}return Object(i.a)(a,[{key:"getFormState",value:function(){return this.toEdit?Object(O.a)({},this.props.artist,{photo:null}):{artistname:"",description:"",photo:null}}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a,n={artistname:(a=this.state).artistname,description:a.description};if(this.toEdit){var r=this.props.artist,o=r._id,l=r.photo;x.update(o,n).then((function(){return t.handlePhotoSubmit(Object(O.a)({},n,{_id:o,photo:l}))}))}else x.create(n).then((function(e){return t.handlePhotoSubmit(Object(O.a)({},n,{_id:e._id}))}))}},{key:"handlePhotoSubmit",value:function(e){var t=this;this.state.photo?x.setPhoto(e._id,this.state.photo).then((function(a){t.props.submited(Object(O.a)({},e,{photo:a.url}))})):this.props.submited(e)}},{key:"handleCancel",value:function(){this.setState(this.getFormState()),this.props.handleClose()}},{key:"handleSelectPhoto",value:function(e){var t=new FormData;t.append("photo",e.target.files[0]),this.setState({photo:t})}},{key:"render",value:function(){var e=this,t=this.props.show,a=this.state,n=a.artistname,o=a.description;return r.a.createElement(X.a,{show:t,onHide:this.handleCancel,size:"lg"},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Title,null,this.toEdit?"Edit Artist":"Create Artist")),r.a.createElement(B.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(X.a.Body,null,r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Artist"),r.a.createElement(B.a.Control,{value:n,onChange:function(t){return e.setState({artistname:t.target.value})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Description"),r.a.createElement("textarea",{className:"form-control",value:o,onChange:function(t){return e.setState({description:t.target.value})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Photo"),r.a.createElement(B.a.Control,{type:"file",onChange:function(t){return e.handleSelectPhoto(t)}}))),r.a.createElement(X.a.Footer,null,r.a.createElement(P.a,{variant:"secondary",onClick:function(){return e.handleCancel()}},r.a.createElement(K.a,{icon:Q.j})),r.a.createElement(P.a,{variant:"primary",type:"submit"},r.a.createElement(K.a,{icon:Q.f})))))}}]),a}(r.a.Component),ue=(a(99),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={artists:[],error:void 0,toCreate:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.getList()}},{key:"getList",value:function(e){var t=this;"/artist/list"===this.props.location.pathname&&R.getAll(e).then((function(e){return t.setState({artists:e})})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.artists,n=t.error,o=t.toCreate;return r.a.createElement(Y.a,null,void 0!==n&&r.a.createElement($.a,{variant:"danger"},n),r.a.createElement("div",{className:"buttons-container"},r.a.createElement(P.a,{variant:"outline-secondary",style:{alignSelf:"flex-start"},onClick:function(){return e.setState({toCreate:!0})}},r.a.createElement(K.a,{icon:Q.e}),"\xa0New Artist"),r.a.createElement(ae,{search:function(t){return e.getList(t)}})),r.a.createElement(ie,{show:o,handleClose:function(){return e.setState({toCreate:!1})},submited:function(t){return e.setState({artists:[].concat(Object(V.a)(a),[t]),toCreate:!1})}}),r.a.createElement("div",{id:"artistList"},a.map((function(t,a){return r.a.createElement(U.a,{key:"artist".concat(a)},r.a.createElement(U.a.Img,{variant:"top",src:t.photo,onClick:function(){return e.props.history.push("/artist/details/".concat(t._id))}}),r.a.createElement(U.a.Body,null,r.a.createElement(U.a.Title,null,"Artista :",r.a.createElement("br",null),t.artistname)))}))))}}]),a}(r.a.Component));ue.contextType=E;var se=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={sure:!1},n}return Object(i.a)(a,[{key:"handleRemove",value:function(){var e=this;x.remove(this.props.artistId).then((function(){e.props.removed()}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.handleClose,o=this.state.sure;return r.a.createElement(X.a,{show:a,onHide:n,size:"lg"},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,"Remove Artist")),r.a.createElement(X.a.Body,null,"If you proceed this action this element will be permenantly deleted from the system!",r.a.createElement("br",null),"Are you sure?",r.a.createElement(K.a,{style:{marginLeft:10},onClick:function(){return e.setState({sure:!o})},icon:o?Q.b:Q.h})),r.a.createElement(X.a.Footer,null,r.a.createElement(P.a,{variant:"danger",disabled:!o,onClick:function(){return e.handleRemove()}},"Remove")))}}]),a}(r.a.Component),me=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={artist:void 0,error:void 0,toRemove:!1,toUpdate:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;x.getOne(this.props.match.params.id).then((function(t){return e.setState({artist:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.artist,n=t.error,o=t.toRemove,l=t.toUpdate,c=this.context.user;return r.a.createElement(Y.a,null,r.a.createElement(P.a,{variant:"outline-secondary",style:{margin:"10px 0"},onClick:function(){return e.props.history.goBack()}},r.a.createElement(K.a,{icon:Q.a}),"\xa0Back to list"),void 0!==n&&r.a.createElement($.a,{variant:"danger"},n),void 0!==a?r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(ee.a,null,r.a.createElement(te.a,{xs:6,md:4,lg:3},a.photo&&r.a.createElement("img",{src:a.photo,alt:a.photo,className:"imageSize",onClick:function(){return e.props.history.push("/artist/list")}})),r.a.createElement(te.a,{xs:6,md:8,lg:9},r.a.createElement("h1",{className:"position"},a.artistname),r.a.createElement("h5",{className:"position"},a.description),r.a.createElement("br",null),c&&r.a.createElement("p",null,r.a.createElement(P.a,{className:"position",variant:"dark",onClick:function(){return e.setState({toUpdate:!0})}},r.a.createElement(K.a,{icon:Q.c})),"\xa0",c.role===f&&r.a.createElement(P.a,{variant:"danger",onClick:function(){return e.setState({toRemove:!0})}},r.a.createElement(K.a,{icon:Q.i})))))),r.a.createElement(se,{artistId:a._id,show:o,handleClose:function(){return e.setState({toRemove:!1})},removed:function(){return e.props.history.goBack()}}),r.a.createElement(ie,{artist:a,show:l,handleClose:function(){return e.setState({toUpdate:!1})},submited:function(t){return e.setState({artist:t,toUpdate:!1})}})):r.a.createElement(oe.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),a}(r.a.Component);me.contextType=E;var he=a(113),de=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toEdit=!1,n.toEdit=void 0!==e.genre,n.state=n.getFormState(),n}return Object(i.a)(a,[{key:"getFormState",value:function(){return this.toEdit?Object(O.a)({},this.props.genre):{genre:"",description:""}}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.toEdit){var a=this.props.genre._id;T.update(a,this.state).then((function(){return t.props.submited(Object(O.a)({},t.state,{_id:a}))})).catch((function(e){return console.log(e)}))}else T.create(this.state).then((function(e){return t.props.submited(Object(O.a)({},t.state,{_id:e._id}))})).catch((function(e){return console.log(e)}))}},{key:"handleCancel",value:function(){this.setState(this.getFormState()),this.props.handleClose()}},{key:"render",value:function(){var e=this,t=this.props.show,a=this.state,n=a.genre,o=a.description;return r.a.createElement(X.a,{show:t,onHide:this.handleCancel,size:"lg"},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Title,null,this.toEdit?"Edit genre":"Create genre")),r.a.createElement(B.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(X.a.Body,null,r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Genre"),r.a.createElement(B.a.Control,{value:n,onChange:function(t){return e.setState({genre:t.target.value})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Description"),r.a.createElement("textarea",{className:"form-control",value:o,onChange:function(t){return e.setState({description:t.target.value})}}))),r.a.createElement(X.a.Footer,null,r.a.createElement(P.a,{variant:"secondary",onClick:function(){return e.handleCancel()}},r.a.createElement(K.a,{icon:Q.j})),r.a.createElement(P.a,{variant:"primary",type:"submit"},r.a.createElement(K.a,{icon:Q.f})))))}}]),a}(r.a.Component),pe=(a(100),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={genres:[],error:void 0,toCreate:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.getList()}},{key:"getList",value:function(e){var t=this;"/genre/list"===this.props.location.pathname&&N.getAll(e).then((function(e){return t.setState({genres:e})})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.genres,n=t.error,o=t.toCreate;return r.a.createElement(Y.a,null,void 0!==n&&r.a.createElement($.a,{variant:"danger"},n),r.a.createElement("div",{className:"buttons-container"},r.a.createElement(P.a,{variant:"outline-secondary",style:{alignSelf:"flex-start"},onClick:function(){return e.setState({toCreate:!0})}},r.a.createElement(K.a,{icon:Q.e}),"\xa0New Genre"),r.a.createElement(ae,{search:function(t){return e.getList(t)}})),r.a.createElement(de,{show:o,handleClose:function(){return e.setState({toCreate:!1})},submited:function(t){return e.setState({genres:[].concat(Object(V.a)(a),[t]),toCreate:!1})}}),r.a.createElement(he.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Genre"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(t,a){return r.a.createElement("tr",{key:"genre".concat(a)},r.a.createElement("td",null,t.genre),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(P.a,{variant:"outline-secondary",onClick:function(){return e.props.history.push("/genre/details/".concat(t._id))}},r.a.createElement(K.a,{icon:Q.d}))))})))))}}]),a}(r.a.Component)),ve=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={sure:!1},n}return Object(i.a)(a,[{key:"handleRemove",value:function(){var e=this;T.remove(this.props.genreId).then((function(){e.props.removed()}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.handleClose,o=this.state.sure;return r.a.createElement(X.a,{show:a,onHide:n,size:"lg"},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,"Remove Genre")),r.a.createElement(X.a.Body,null,"If you proceed this action this element will be permanently deleted from the system!",r.a.createElement("br",null),"Are you sure?",r.a.createElement(K.a,{style:{marginLeft:10},onClick:function(){return e.setState({sure:!o})},icon:o?Q.b:Q.h})),r.a.createElement(X.a.Footer,null,r.a.createElement(P.a,{variant:"danger",disabled:!o,onClick:function(){return e.handleRemove()}},"REMOVE")))}}]),a}(r.a.Component),Ee=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={genre:void 0,error:void 0,toRemove:!1,toUpdate:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;T.getOne(this.props.match.params.id).then((function(t){return e.setState({genre:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.genre,n=t.error,o=t.toRemove,l=t.toUpdate,c=this.context.user;return r.a.createElement(Y.a,null,r.a.createElement(P.a,{variant:"outline-secondary",style:{margin:"10px 0"},onClick:function(){return e.props.history.goBack()}},r.a.createElement(K.a,{icon:Q.a}),"\xa0Back to list"),void 0!==n&&r.a.createElement($.a,{variant:"danger"},n),void 0!==a?r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(ee.a,null,r.a.createElement(te.a,{xs:6,md:8,lg:9},r.a.createElement("h1",null,a.genre),r.a.createElement("h5",null,a.description),r.a.createElement("br",null),c&&r.a.createElement("p",null,r.a.createElement(P.a,{variant:"dark",onClick:function(){return e.setState({toUpdate:!0})}},r.a.createElement(K.a,{icon:Q.c})),"\xa0",c.role===f&&r.a.createElement(P.a,{variant:"danger",onClick:function(){return e.setState({toRemove:!0})}},r.a.createElement(K.a,{icon:Q.i})))))),r.a.createElement(ve,{genreId:a._id,show:o,handleClose:function(){return e.setState({toRemove:!1})},removed:function(){return e.props.history.goBack()}}),r.a.createElement(de,{genre:a,show:l,handleClose:function(){return e.setState({toUpdate:!1})},submited:function(t){return e.setState({genre:t,toUpdate:!1})}})):r.a.createElement(oe.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),a}(r.a.Component);Ee.contextType=E;var fe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).toEdit=!1,n.toEdit=void 0!==e.user,n.state=n.getFormState(),n}return Object(i.a)(a,[{key:"getFormState",value:function(){return this.toEdit?Object(O.a)({},this.props.user):{username:"",role:"",email:"",name:""}}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),this.toEdit){var a=this.props.user._id;D.update(a,this.state).then((function(){return t.props.submited(Object(O.a)({},t.state,{_id:a}))})).catch((function(e){return console.log(e)}))}}},{key:"handleCancel",value:function(){this.setState(this.getFormState()),this.props.handleClose()}},{key:"render",value:function(){var e=this,t=this.props.show,a=this.state,n=a.username,o=a.role,l=a.email,c=a.name;return r.a.createElement(X.a,{show:t,onHide:this.handleCancel,size:"lg"},r.a.createElement(X.a.Header,null,r.a.createElement(X.a.Title,null,"Edit user")),r.a.createElement(B.a,{onSubmit:function(t){return e.handleSubmit(t)}},r.a.createElement(X.a.Body,null,r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Username"),r.a.createElement(B.a.Control,{value:n,readOnly:!0,onChange:function(t){return e.setState({username:t.target.value})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Role"),r.a.createElement(B.a.Control,{as:"select",value:o,onChange:function(t){return e.setState({role:parseInt(t.target.value)})}},r.a.createElement("option",{value:2},"Contributor"),r.a.createElement("option",{value:1},"Admin"))),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Email"),r.a.createElement(B.a.Control,{value:l,onChange:function(t){return e.setState({email:t.target.value})}})),r.a.createElement(B.a.Group,null,r.a.createElement(B.a.Label,null,"Name"),r.a.createElement(B.a.Control,{value:c,onChange:function(t){return e.setState({name:t.target.value})}}))),r.a.createElement(X.a.Footer,null,r.a.createElement(P.a,{variant:"secondary",onClick:function(){return e.handleCancel()}},"Cancel"),r.a.createElement(P.a,{variant:"primary",type:"submit"},"Save"))))}}]),a}(r.a.Component),be=(a(101),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={users:[],error:void 0,toCreate:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getList()}},{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.getList()}},{key:"getList",value:function(e){var t=this;"/user/list"===this.props.location.pathname&&G.getAll(e).then((function(e){return t.setState({users:e})})).catch((function(e){return t.setState({error:e})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.users,n=t.error,o=t.toCreate;return r.a.createElement(Y.a,null,void 0!==n&&r.a.createElement($.a,{variant:"danger"},n),r.a.createElement("div",{className:"buttons-container"},r.a.createElement(ae,{search:function(t){return e.getList(t)}})),r.a.createElement(fe,{show:o,handleClose:function(){return e.setState({toCreate:!1})},submited:function(t){return e.setState({users:[].concat(Object(V.a)(a),[t]),toCreate:!1})}}),r.a.createElement(he.a,{responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"User"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(t,a){return r.a.createElement("tr",{key:"user".concat(a)},r.a.createElement("td",null,t.username),r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement(P.a,{variant:"outline-secondary",onClick:function(){return e.props.history.push("/user/details/".concat(t._id))}},r.a.createElement(K.a,{icon:Q.d}))))})))))}}]),a}(r.a.Component)),ge=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={sure:!1},n}return Object(i.a)(a,[{key:"handleRemove",value:function(){var e=this;D.remove(this.props.userId).then((function(){e.props.removed()}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.show,n=t.handleClose,o=this.state.sure;return r.a.createElement(X.a,{show:a,onHide:n,size:"lg"},r.a.createElement(X.a.Header,{closeButton:!0},r.a.createElement(X.a.Title,null,"Remove User")),r.a.createElement(X.a.Body,null,"If you proceed this action this element will be permenantly deleted from the system!",r.a.createElement("br",null),"Are you sure?",r.a.createElement(K.a,{style:{marginLeft:10},onClick:function(){return e.setState({sure:!o})},icon:o?Q.b:Q.h})),r.a.createElement(X.a.Footer,null,r.a.createElement(P.a,{variant:"danger",disabled:!o,onClick:function(){return e.handleRemove()}},"Remove")))}}]),a}(r.a.Component),ye=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={user:void 0,error:void 0,toRemove:!1,toUpdate:!1},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;D.getOne(this.props.match.params.id).then((function(t){return e.setState({user:t})})).catch((function(t){return e.setState({error:t})}))}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.error,o=t.toRemove,l=t.toUpdate;return r.a.createElement(Y.a,null,r.a.createElement(P.a,{variant:"outline-primary",style:{margin:"10px 0"},onClick:function(){return e.props.history.goBack()}},r.a.createElement(K.a,{icon:Q.a}),"\xa0Back to list"),void 0!==n&&r.a.createElement($.a,{variant:"danger"},n),void 0!==a?r.a.createElement("div",null,r.a.createElement(re.a,null,r.a.createElement(ee.a,null,r.a.createElement(te.a,{xs:6,md:8,lg:9},r.a.createElement("h1",null,a.username),a.role===f&&r.a.createElement("h5",null,"Role : Admin"),a.role===b&&r.a.createElement("h5",null,"Role : Contributor"),r.a.createElement("h5",null,"Name : ",a.name),r.a.createElement("h5",null,"Email : ",a.email),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement(P.a,{variant:"dark",onClick:function(){return e.setState({toUpdate:!0})}},r.a.createElement(K.a,{icon:Q.c})),"\xa0",r.a.createElement(P.a,{variant:"danger",onClick:function(){return e.setState({toRemove:!0})}},r.a.createElement(K.a,{icon:Q.i})))))),r.a.createElement(ge,{userId:a._id,show:o,handleClose:function(){return e.setState({toRemove:!1})},removed:function(){return e.props.history.goBack()}}),r.a.createElement(fe,{user:a,show:l,handleClose:function(){return e.setState({toUpdate:!1})},submited:function(t){return e.setState({user:t,toUpdate:!1})}})):r.a.createElement(oe.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),a}(r.a.Component);ye.contextType=E;var Ce=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(m.a,null,r.a.createElement(g,null),r.a.createElement(h.d,null,r.a.createElement(h.b,{exact:!0,path:"/register",component:I}),r.a.createElement(h.b,{exact:!0,path:"/login",component:_}),r.a.createElement(h.b,{exact:!0,path:"/about",component:W}),r.a.createElement(h.b,{exact:!0,path:"/album/list",component:ne}),r.a.createElement(h.b,{exact:!0,path:"/album/details/:id",component:ce}),r.a.createElement(h.b,{exact:!0,path:"/artist/list",component:ue}),r.a.createElement(h.b,{exact:!0,path:"/artist/details/:id",component:me}),r.a.createElement(h.b,{exact:!0,path:"/genre/list",component:pe}),r.a.createElement(h.b,{exact:!0,path:"/genre/details/:id",component:Ee}),r.a.createElement(C,{roles:[f],exact:!0,path:"/user/list",component:be}),r.a.createElement(C,{roles:[f],exact:!0,path:"/user/details/:id",component:ye}),r.a.createElement(h.b,{path:"*",component:z})))}}]),a}(r.a.Component),Oe=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(e){var n;Object(c.a)(this,a),(n=t.call(this,e)).login=function(e){sessionStorage.setItem("user",JSON.stringify(e)),n.setState({user:e})},n.logout=function(){sessionStorage.removeItem("user"),n.setState({user:void 0})};var r=sessionStorage.getItem("user");return n.state={user:r?JSON.parse(r):void 0,login:n.login,logout:n.logout},n}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(E.Provider,{value:this.state},this.props.children)}}]),a}(r.a.Component),je=function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement(Oe,null,r.a.createElement(Ce,null))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(102);l.a.render(r.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},69:function(e,t,a){},75:function(e,t,a){e.exports=a.p+"static/media/boa.447d8205.png"},76:function(e,t,a){e.exports=a.p+"static/media/photocartoon.9ae15c35.jpg"},81:function(e,t,a){e.exports=a(103)},86:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[81,1,2]]]);
//# sourceMappingURL=main.663d69b1.chunk.js.map